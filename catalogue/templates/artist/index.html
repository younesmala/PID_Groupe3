{% extends "layouts/base.html" %}

{% block title %}Artistes{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
  <h1 class="m-0">Liste des artistes</h1>

  {% if user.is_staff or user.is_superuser %}
    <a class="btn btn-primary" href="{% url 'catalogue:artist-create' %}">
      + Ajouter un artiste
    </a>
  {% endif %}
</div>

<table class="table table-striped align-middle">
  <thead>
    <tr>
      <th>Pr√©nom</th>
      <th>Nom</th>
      <th style="width: 1%;">Voir</th>

      {% if user.is_staff or user.is_superuser %}
        <th style="width: 1%;">Modifier</th>
        <th style="width: 1%;">Supprimer</th>
      {% endif %}
    </tr>
  </thead>

  <tbody>
    {% for artist in artists %}
      <tr>
        <td>{{ artist.firstname }}</td>
        <td>{{ artist.lastname }}</td>

        <td>
          <a class="btn btn-outline-secondary btn-sm"
             href="{% url 'catalogue:artist-show' artist.id %}">
            Voir
          </a>
        </td>

        {% if user.is_staff or user.is_superuser %}
          <td>
            <a class="btn btn-outline-primary btn-sm"
               href="{% url 'catalogue:artist-edit' artist.id %}">
              Modifier
            </a>
          </td>
          <td>
            <a class="btn btn-outline-danger btn-sm"
               href="{% url 'catalogue:artist-delete' artist.id %}">
              Supprimer
            </a>
          </td>
        {% endif %}
      </tr>
    {% empty %}
      <tr>
        <td colspan="5" class="text-muted">Aucun artiste.</td>
      </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
